{"version":3,"sources":["fetchMovies.js","markup.js","localStorige.js","index.js"],"names":["refs","moviesListEl","document","querySelector","homePageEl","libraryPageEl","headerEl","libraryButtonsListEl","formContainerEl","searchEl","notificationEl","modalContainerEl","modalCloseBtnEl","backdropEl","watchedBtn","oueueBtn","KEY","selectedMovie","fetchTrendingMovies","response","fetch","trendingMovies","json","localStorage","setItem","JSON","stringify","fetchGenres","getItem","genres","fetchMovies","movieName","pageCounter","movies","fetchOneMovie","receiveGenres","result","undefined","receiveOneMovieGenres","receiveGenresById","genre_ids","genresId","parse","genresArray","map","genre","includes","id","push","name","length","splice","join","genreName","homeHeaderMarkup","classList","remove","add","libraryHeaderMarkup","createListMarkup","results","markup","addPoster","poster_path","original_title","release_date","slice","innerHTML","posterWay","img","createModalMarkup","oneMovie","modalMarkup","title","vote_average","vote_count","popularity","overview","addToMowies","watchedMowies","queueMowies","getMovies","movie","localStorageItems","error","console","log","addToLocalstorige","findMovieInLocalStorige","btn","key","btnName","find","textContent","removeFromLocalStorige","newArray","filter","searchValue","getTrendingMovies","then","catch","notificationError","onSearchMovies","e","preventDefault","currentTarget","elements","searchQuery","value","trim","setTimeout","onClickMovieCard","target","nodeName","addToWatchedBtnActive","addToQueueBtnActive","addEventListener","addToWatchedBtn","onClickAddToWatchedBtn","addMovie","removeMovie","addToQueueBtn","onClickAddToQueueBtn","Btn","BtnName","onModalClose","updateLibraryList","onBackdropClose","contains","checkQueueContent","checkWatchedContent","getSavedMovies","onWatchedBtnClick","onQueueBtnClick","url","image","Image","src","alt","appendChild"],"mappings":"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","file":"src.0274ec61.js","sourceRoot":"../src","sourcesContent":["export const refs = {\n  moviesListEl: document.querySelector('.movies-list'),\n  homePageEl: document.querySelector('.home-page-js'),\n  libraryPageEl: document.querySelector('.library-page-js'),\n  headerEl: document.querySelector('.header'),\n  libraryButtonsListEl: document.querySelector('.library-buttons-list'),\n  formContainerEl: document.querySelector('.form-container'),\n  searchEl: document.querySelector('.search-form'),\n  notificationEl: document.querySelector('.search-failure-text'),\n  modalContainerEl: document.querySelector('.modal_movie-container'),\n  modalCloseBtnEl: document.querySelector('.modal-close-btn'),\n  backdropEl: document.querySelector('.backdrop'),\n  watchedBtn: document.querySelector('.watched-btn-js'),\n  oueueBtn: document.querySelector('.queue-btn-js'),\n};\nconst KEY = '4a38965c8274ee66c1019c21406c4653';\nexport let selectedMovie = '';\n\nexport async function fetchTrendingMovies() {\n  const response = await fetch(`https://api.themoviedb.org/3/trending/movie/day?api_key=${KEY}`);\n  const trendingMovies = await response.json();\n  localStorage.setItem('movies', JSON.stringify(trendingMovies));\n  return trendingMovies;\n}\n\nexport async function fetchGenres() {\n  if (!localStorage.getItem('genres')) {\n    const response = await fetch(\n      `https://api.themoviedb.org/3/genre/movie/list?api_key=${KEY}&language=en-US`,\n    );\n    const { genres } = await response.json();\n    localStorage.setItem('genres', JSON.stringify(genres));\n  } else {\n    return;\n  }\n}\n\nexport async function fetchMovies(movieName, pageCounter) {\n  const response = await fetch(\n    `https://api.themoviedb.org/3/search/movie?api_key=${KEY}&query=${movieName}&language=en-US&page=${pageCounter}&include_adult=false`,\n  );\n  const movies = await response.json();\n  localStorage.setItem('movies', JSON.stringify(movies));\n  return movies;\n}\n\nexport async function fetchOneMovie(movieName) {\n  const response = await fetch(\n    `https://api.themoviedb.org/3/movie/${movieName}?api_key=${KEY}&language=en-US`,\n  );\n  selectedMovie = await response.json();\n  return selectedMovie;\n}\n\n// /////////////// receive genres /////////////////////////\nexport function receiveGenres(result) {\n  if (result.genres !== undefined) {\n    return receiveOneMovieGenres(result.genres);\n  } else {\n    return receiveGenresById(result.genre_ids);\n  }\n}\nfunction receiveGenresById(genresId) {\n  const genres = JSON.parse(localStorage.getItem('genres'));\n  const genresArray = [];\n\n  genres.map(genre => {\n    if (genresId.includes(genre.id)) {\n      genresArray.push(genre.name);\n    }\n  });\n\n  if (genresArray.length > 2) {\n    genresArray.splice(2);\n    genresArray.push('Other');\n  }\n  return genresArray.join(', ');\n}\n\nfunction receiveOneMovieGenres(genres) {\n  const genreName = [];\n  genres.map(genre => {\n    genreName.push(genre.name);\n  });\n  return genreName.join(', ');\n}\n","import { refs, receiveGenres } from './fetchMovies';\nimport img from './images/no-poster-available.jpg';\n\nexport function homeHeaderMarkup() {\n  refs.libraryPageEl.classList.remove('current-page');\n  refs.homePageEl.classList.add('current-page');\n  refs.headerEl.classList.remove('header-bg-library-page');\n  refs.headerEl.classList.add('header-bg-home-page');\n  refs.libraryButtonsListEl.classList.add('header-central-container-toggle');\n  refs.formContainerEl.classList.remove('header-central-container-toggle');\n}\n\nexport function libraryHeaderMarkup() {\n  refs.homePageEl.classList.remove('current-page');\n  refs.libraryPageEl.classList.add('current-page');\n  refs.headerEl.classList.remove('header-bg-home-page');\n  refs.headerEl.classList.add('header-bg-library-page');\n  refs.formContainerEl.classList.add('header-central-container-toggle');\n  refs.libraryButtonsListEl.classList.remove('header-central-container-toggle');\n}\n\nexport function createListMarkup(results) {\n  const markup = results\n    .map(result => {\n      return `<li class=\"movie-card\" id=${result.id}>\n     <img src=${addPoster(result.poster_path)} alt=${\n        result.original_title\n      }poster\" loading=\"lazy\" class=\"image\" id=${result.id} />\n     \n       <p class=\"movie-name\" id=${result.id}>\n         ${result.original_title}\n       </p>\n       <p class=\"movie-genre\" id=${result.id}>\n       ${receiveGenres(result)} | ${result.release_date.slice(0, 4)}\n     </p>\n     \n   </li>`;\n    })\n    .join('');\n\n  refs.moviesListEl.innerHTML = markup;\n}\nfunction addPoster(posterWay) {\n  if (posterWay) {\n    return `https://image.tmdb.org/t/p/w300${posterWay}`;\n  }\n  return `${img}`;\n}\n\nexport function createModalMarkup(oneMovie) {\n  const modalMarkup = `\n  <img class=\"modal-poster\" src=${addPoster(oneMovie.poster_path)} alt=${oneMovie.original_title} />\n  <div class=\"modal-text-container\">\n  <p class=\"modal-name\">${oneMovie.title}</p>\n  <ul class=\"modal-list list\">\n    <li class=\"modal-item\">\n      <p class=\"modal-info-name\">Vote / Votes </p> \n       <p class=\"modal-value-rating\">${oneMovie.vote_average}<p/><p class=\"modal-info-value\">\n      / ${oneMovie.vote_count}</p>\n    </li>\n    <li class=\"modal-item\">\n      <p class=\"modal-info-name\">Popularity </p> <p class=\"modal-info-value\">${\n        oneMovie.popularity\n      }</p>\n    </li>\n    <li class=\"modal-item\">\n      <p class=\"modal-info-name\">Original Title </p><p class=\"modal-info-value\">${\n        oneMovie.original_title\n      }</p>\n    </li>\n    <li class=\"modal-item\">\n      <p class=\"modal-info-name\">Genre </p> <p class=\"modal-info-value\">${receiveGenres(oneMovie)}\n        </p>\n    </li>\n  </ul>\n  <p class=\"modal-about\">About</p>\n  <p class=\"modal-description\">${oneMovie.overview}</p>\n  <div class=\"modal_buttns-container\">\n          <button type=\"button\" class=\"modal-btn add-to-watched\">Add to watched</button>\n          <button type=\"button\" class=\"modal-btn add-to-queue\">Add to queue</button>\n        </div>\n  <div/>`;\n  refs.modalContainerEl.innerHTML = modalMarkup;\n}\n","import { selectedMovie } from './fetchMovies';\nlet addToMowies = [];\nexport let watchedMowies = JSON.parse(localStorage.getItem('addToWatchedMovies'));\nexport let queueMowies = JSON.parse(localStorage.getItem('addToQueueMovies'));\nfunction getMovies(movie) {\n  try {\n    const localStorageItems = JSON.parse(localStorage.getItem(movie));\n    if (localStorageItems) {\n      return localStorageItems;\n    } else {\n      return [];\n    }\n  } catch (error) {\n    console.log(error);\n    return [];\n  }\n}\nexport function addToLocalstorige(movie) {\n  addToMowies = getMovies(movie);\n  addToMowies.push(selectedMovie);\n  localStorage.setItem(movie, JSON.stringify(addToMowies));\n  watchedMowies = JSON.parse(localStorage.getItem('addToWatchedMovies'));\n  queueMowies = JSON.parse(localStorage.getItem('addToQueueMovies'));\n}\n\nexport function findMovieInLocalStorige(btn, key, btnName) {\n  addToMowies = getMovies(key);\n  if (addToMowies.length !== 0 && addToMowies.find(movie => selectedMovie.id === movie.id)) {\n    btn.classList.add('is-active');\n    btn.textContent = `remove from ${btnName}`;\n  } else {\n    return;\n  }\n}\n\nexport function removeFromLocalStorige(key) {\n  addToMowies = getMovies(key);\n  const newArray = addToMowies.filter(movie => movie.id !== selectedMovie.id);\n  localStorage.setItem(key, JSON.stringify(newArray));\n  watchedMowies = JSON.parse(localStorage.getItem('addToWatchedMovies'));\n  queueMowies = JSON.parse(localStorage.getItem('addToQueueMovies'));\n}\n","import './css/styles.css';\nimport { refs, fetchTrendingMovies, fetchGenres, fetchMovies, fetchOneMovie } from './fetchMovies';\nimport {\n  createListMarkup,\n  homeHeaderMarkup,\n  libraryHeaderMarkup,\n  createModalMarkup,\n} from './markup.js';\nimport {\n  addToLocalstorige,\n  findMovieInLocalStorige,\n  removeFromLocalStorige,\n  watchedMowies,\n  queueMowies,\n} from './localStorige';\nlet pageCounter = 1;\nlet searchValue = '';\n\n// ////////////////////////// start page //////////////////////////////\nfunction getTrendingMovies() {\n  homeHeaderMarkup();\n  fetchTrendingMovies()\n    .then(trendingMovies => createListMarkup(trendingMovies.results))\n    .catch(error => {\n      notificationError();\n      console.log(error);\n    });\n  fetchGenres();\n}\ngetTrendingMovies();\n\n//////////////////////// search movies ///////////////////////////////\nrefs.searchEl.addEventListener('submit', onSearchMovies);\n\nfunction onSearchMovies(e) {\n  e.preventDefault();\n\n  searchValue = e.currentTarget.elements.searchQuery.value.trim();\n\n  fetchMovies(searchValue, pageCounter)\n    .then(movies => {\n      if (movies.results.length !== 0) {\n        createListMarkup(movies.results);\n      } else {\n        notificationError();\n      }\n    })\n    .catch(error => {\n      notificationError();\n      console.log(error);\n    });\n  pageCounter += 1;\n}\n\nfunction notificationError() {\n  refs.notificationEl.textContent = 'Search result not successful. Enter the correct movie name';\n  setTimeout(() => {\n    refs.notificationEl.textContent = '';\n  }, 2000);\n}\n\n// //////////////////////// open modal window ////////////////////////\nrefs.moviesListEl.addEventListener('click', onClickMovieCard);\nfunction onClickMovieCard(e) {\n  const openModal =\n    e.target.nodeName === 'IMG' || e.target.nodeName === 'LI' || e.target.nodeName === 'P';\n\n  if (!openModal) {\n    return;\n  } else {\n    fetchOneMovie(e.target.id)\n      .then(oneMovie => {\n        createModalMarkup(oneMovie);\n        addToWatchedBtnActive();\n        addToQueueBtnActive();\n        refs.backdropEl.classList.remove('is-hidden');\n      })\n      .catch(error => console.log(error));\n  }\n}\n\n// ///////////////////////// add to watched ////////////////////////\nlet addToWatchedBtn = {};\n\nfunction addToWatchedBtnActive() {\n  addToWatchedBtn = document.querySelector('.add-to-watched');\n  findMovieInLocalStorige(addToWatchedBtn, 'addToWatchedMovies', `watched`);\n  addToWatchedBtn.addEventListener('click', onClickAddToWatchedBtn);\n}\n\nfunction onClickAddToWatchedBtn(e) {\n  if (e.target.textContent === 'Add to watched') {\n    addToLocalstorige('addToWatchedMovies');\n    addMovie(addToWatchedBtn, `watched`);\n    removeMovie(addToQueueBtn, `queue`);\n    removeFromLocalStorige('addToQueueMovies');\n  } else {\n    removeFromLocalStorige('addToWatchedMovies');\n    removeMovie(addToWatchedBtn, `watched`);\n  }\n}\n// /////////////////////// add to queue ///////////////////////////////\nlet addToQueueBtn = {};\nfunction addToQueueBtnActive() {\n  addToQueueBtn = document.querySelector('.add-to-queue');\n  findMovieInLocalStorige(addToQueueBtn, 'addToQueueMovies', `queue`);\n  addToQueueBtn.addEventListener('click', onClickAddToQueueBtn);\n}\nfunction onClickAddToQueueBtn(e) {\n  if (e.target.textContent === 'Add to queue') {\n    addToLocalstorige('addToQueueMovies');\n    addMovie(addToQueueBtn, `queue`);\n    removeMovie(addToWatchedBtn, `watched`);\n    removeFromLocalStorige('addToWatchedMovies');\n  } else {\n    removeFromLocalStorige('addToQueueMovies');\n    removeMovie(addToQueueBtn, `queue`);\n  }\n}\n// //////////////// add/remove movie//////////////////////////////////////\nfunction addMovie(Btn, BtnName) {\n  Btn.classList.add('is-active');\n  Btn.textContent = `remove from ${BtnName}`;\n}\nfunction removeMovie(Btn, BtnName) {\n  Btn.classList.remove('is-active');\n  Btn.textContent = `Add to ${BtnName}`;\n}\n\n// ////////////////////////// close modal window /////////////////////\nrefs.modalCloseBtnEl.addEventListener('click', onModalClose);\nfunction onModalClose() {\n  updateLibraryList();\n  refs.backdropEl.classList.add('is-hidden');\n  refs.modalContainerEl.innerHTML = '';\n}\nrefs.backdropEl.addEventListener('click', onBackdropClose);\nfunction onBackdropClose(e) {\n  if (e.currentTarget === e.target) {\n    onModalClose();\n    updateLibraryList();\n  }\n}\n\nfunction updateLibraryList() {\n  if (refs.libraryButtonsListEl.classList.contains('header-central-container-toggle')) {\n    return;\n  } else if (refs.oueueBtn.classList.contains('is-active')) {\n    checkQueueContent();\n  } else {\n    checkWatchedContent();\n  }\n}\n\n// //////////////////////// home page ////////////////////\nrefs.homePageEl.addEventListener('click', getTrendingMovies);\n\n//////////////////////// library page /////////////////////\nrefs.libraryPageEl.addEventListener('click', getSavedMovies);\nfunction getSavedMovies() {\n  libraryHeaderMarkup();\n  onWatchedBtnClick();\n}\n\nrefs.watchedBtn.addEventListener('click', onWatchedBtnClick);\nfunction onWatchedBtnClick() {\n  checkWatchedContent();\n  refs.oueueBtn.classList.remove('is-active');\n  refs.watchedBtn.classList.add('is-active');\n}\n\nrefs.oueueBtn.addEventListener('click', onQueueBtnClick);\nfunction onQueueBtnClick() {\n  checkQueueContent();\n  refs.watchedBtn.classList.remove('is-active');\n  refs.oueueBtn.classList.add('is-active');\n}\nconst url = './images/empty.PNG';\nfunction checkWatchedContent() {\n  if (watchedMowies.length !== 0) {\n    createListMarkup(watchedMowies);\n  } else {\n    refs.moviesListEl.innerHTML = \"<img src='./images/empty.PNG' alt='It is empty here' >\";\n  }\n}\n\nfunction checkQueueContent() {\n  if (queueMowies.length !== 0) {\n    createListMarkup(queueMowies);\n  } else {\n    const image = new Image();\n    image.src = './images/empty.PNG';\n    image.alt = 'It is empty here';\n    refs.moviesListEl.appendChild(image);\n  }\n}\n"]}